namespace GameOfLife;

public static class InitialState
{
    private static string[] _state = """
       ..................................................
       .............................................x....
       ...........................................xx.....
       ............................................xx....
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       .........................xx.......................
       ........................x..x......................
       ........................x..x......................
       .........................xx.......................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       ..................................................
       .............x....................................
       ...........x.x....................................
       ............xx........x...........................
       ....................xx............................
       .....................xx...........................
       ..................................................
       ..................................................
       ..................................................
       """.Split('\n');
    
    public static IEnumerable<Coordinate> Get()
    {
        var firstLineLength = _state[0].Length;

        for (var rowNum = 0; rowNum < _state.Length; rowNum++)
        {
            var row = _state[rowNum];  
            if (row.Length != firstLineLength)
            {
                throw new Exception($"Invalid map line length on row {rowNum} ({row.Length} vs {firstLineLength})");
            }

            for (var column = 0; column < row.Length; column++)
            {
                if (row[column] == 'x')
                {
                    yield return new Coordinate(column, rowNum);
                }
            }
        }
    }
}